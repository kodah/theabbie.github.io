<html>
<title>App</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Trivia Solver using OCR and pure JavaScript">
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="App" />
<meta property="og:description" content="Trivia Solver using OCR and pure JavaScript" />
<meta property="og:url" content="https://theabbie.github.io/app" />
<meta property="og:site_name" content="TheAbbie" />
<meta property="article:section" content="application" />
<meta property="article:published_time" content="2020-04-22T08:34:48+00:00" />
<meta property="article:modified_time" content="2020-04-22T08:34:51+00:00" />
<meta property="og:updated_time" content="2020-04-22T08:34:51+00:00" />
<meta property="og:image" content="https://theabbie.github.io/files/share.jpg" />
<meta property="og:image:secure_url" content="https://theabbie.github.io/files/share.jpg" />
<meta property="og:image:width" content="600" />
<meta property="og:image:height" content="445" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="Trivia Solver using OCR and pure JavaScript" />
<meta name="twitter:title" content="App" />
<meta name="twitter:image" content="https://theabbie.github.io/files/share.jpg" />

<body style="margin: 0 0 0 0;">
<iframe src="https://appetize.io/embed/ag_z5qwv8e0d1hhm4e28jwkg4bvqm?device=nexus5&scale=100&orientation=portrait&autoplay=true&screenOnly=true&osVersion=8.1&xdocMsg=true&androidPackageManager=true" frameborder="0" scrolling="no" width="360px" height="640px" style="transform-origin: left top;"></iframe>
<button onclick="getss()" style="position: fixed; bottom: 5%; left: 5%; transform: translate(-5%,-5%); background-color: white; color: black; padding: 25 25 25 25; border: none; text-align: center;text-decoration: none;display: inline-block;font-size: 16px; cursor: pointer; border-radius: 50%;"></button>
</body>
<script>
var wid = window.innerWidth;
var hit = window.innerHeight;
var phone = document.querySelector("iframe");
phone.style.transform = "scale("+(wid/360)+","+(hit/640)+")";
function getss() {
phone.contentWindow.postMessage("getScreenshot","*");
}
document.querySelector("button").onclick = function() {
document.querySelector("html").webkitRequestFullscreen()
setTimeout(function() {phone.style.transform = "scale("+(window.innerWidth/360)+","+(window.innerHeight/640)+")";},250);
}
window.onmessage = function(e) {
if (e.data && e.data.type=="screenshot") {
find(e.data.data)
}
}
function find(x) {
fetch('https://api.ocr.space/parse/imageurl?apikey=helloworld&base64image='+x).then(res=>res.json()).then(res => alert(res.ParsedText));
}
</script>
</html>
