<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<link rel="stylesheet" type="text/css" href="https://srvrr.tk/css">
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<title>Hilbert Curve</title>
</head>
<style>
    svg {position: fixed; background: rgb(42,37,43); position: fixed; left: 50%; top: 50%; transform: translate(-50%,-50%) rotateX(180deg); box-shadow: 0 0 10px rgba(0,0,0.5)} 
    polyline {stroke: rgb(221,172,39); stroke-width: 4; fill: none;}   
</style>
<svg>
<polyline></polyline>  
</svg>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Non AMP -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2455012527087318"
     data-ad-slot="9827784441"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<script>
swal("Which order (Less than 8)?", {content: "input"}).then((value) => {draw(value)});
document.querySelector("svg").style.width=(window.innerWidth>=500?450:window.innerWidth-50);
document.querySelector("svg").style.height=(window.innerWidth>=500?450:window.innerWidth-50);
function draw(n) {
document.querySelector("polyline").setAttribute("points","");
if (n>=7) {document.querySelector("polyline").style.strokeWidth=1;}
var str = hilbert(n);
var l =  (window.innerWidth>=500?450:window.innerWidth-50)/(2**n);
var x = y = l/2;
var d = (window.innerWidth>=500?450:window.innerWidth-50);
var p = {x:x,y:y};
var points = x+","+y;    
str.split("").forEach(function(x) {
if (x=="N") {p.y+=l;}
if (x=="E") {p.x+=l;}
if (x=="W") {p.x-=l;}
if (x=="S") {p.y-=l;}
points+=" "+p.x+","+p.y;
})
document.querySelector("polyline").setAttribute("points",points);
}  
function hilbert(n) {
if (n!=1) {return rotate(hilbert(n-1),1)+"N"+hilbert(n-1)+"E"+hilbert(n-1)+"S"+rotate(hilbert(n-1),-1);}
else {return "NES";}
}
function rotate(str,d) {
if (d==1) {
var result="";
for (x in str.split("")) {result+=(str.split("")[x]=="N"?"E":(str.split("")[x]=="E"?"S":(str.split("")[x]=="S"?"W":(str.split("")[x]=="W"?"N":""))))}
str = result;
result = "";
for (x in str.split("")) {result+=(str.split("")[x]=="N"?"S":(str.split("")[x]=="E"?"W":(str.split("")[x]=="S"?"N":(str.split("")[x]=="W"?"E":""))))}
return result.split("").reverse().join("");
}
if (d==-1) {
var result="";
for (x in str.split("")) {result+=(str.split("")[x]=="N"?"W":(str.split("")[x]=="E"?"N":(str.split("")[x]=="S"?"E":(str.split("")[x]=="W"?"S":""))))}
str = result;
result = "";
for (x in str.split("")) {result+=(str.split("")[x]=="N"?"S":(str.split("")[x]=="E"?"W":(str.split("")[x]=="S"?"N":(str.split("")[x]=="W"?"E":""))))}
return result.split("").reverse().join("");
}
}
</script>
</html>
