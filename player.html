<html>
<script src="https://hammerjs.github.io/dist/hammer.js"></script>
<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
<style>
@media only screen and (orientation: landscape) {
  video {
  position: absolute;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 4;
  visibility: visible;
  transition: all 0.5s;
  }
}
body {
  margin: 0 0 0 0;
  overscroll-behavior-y: contain;
}
video::-internal-media-controls-overlay-cast-button {
  display: none;
}
video {
  position: absolute;
  transform: rotate(90deg);
  transform-origin: bottom left;
  width: 100vh;
  height: 100vw;
  margin-top: -100vw;
  object-fit: cover;
  z-index: 4;
  visibility: visible;
  transition: all 0.5s;
}
</style>
<body>
<video autoplay>
<source type="video/mp4">    
</video>   
</body>
<script>
var wid = window.innerWidth;
var hit = window.innerHeight;
var player = document.getElementsByTagName("video")[0];  
var mc = new Hammer(player);
var furl = location.search.split("?video=")[1] || prompt("Video?");
if (!furl) {
var fp = document.createElement("input");
fp.setAttribute("type","file");
fp.addEventListener("change",function(e) {
var URL = window.URL || window.webkitURL;
player.src = URL.createObjectURL(fp.files[0]);
})
fp.click();
}
document.querySelector("source").setAttribute("src",furl); 
player.onclick = function(e) {if (player.paused) {player.play()} else {player.pause()}}
player.onpause = function() {player.style.WebkitFilter="blur(15px)"}
player.onplay = function() {player.style.WebkitFilter="blur(0px)"}
player.addEventListener('contextmenu', function(e) {
e.preventDefault(); 
if (!document.pictureInPictureElement) {
      player.requestPictureInPicture()
      .catch(error => {
        console.log("failed")
    });
    } else {
      document.exitPictureInPicture()
      .catch(error => {
        console.log("failed again")
      });
    }
  });

mc.on("panup", function(ev) {
    player.currentTime-=10;
});

mc.on("pandown", function(ev) {
    player.currentTime+=10;
});
</script>
</html>
