<html>
<title>
Video Player
</title>
<meta name="description" content="A HTML5 video player built using pure JavaScript">
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Video player" />
<meta property="og:description" content="A HTML5 video player built using pure JavaScript" />
<meta property="og:url" content="https://theabbie.github.io/player.html" />
<meta property="og:site_name" content="TheAbbie" />
<meta property="article:section" content="application" />
<meta property="article:published_time" content="2020-04-22T08:34:48+00:00" />
<meta property="article:modified_time" content="2020-04-22T08:34:51+00:00" />
<meta property="og:updated_time" content="2020-04-22T08:34:51+00:00" />
<meta property="og:image" content="https://theabbie.github.io/files/share.jpg" />
<meta property="og:image:secure_url" content="https://theabbie.github.io/files/share.jpg" />
<meta property="og:image:width" content="600" />
<meta property="og:image:height" content="445" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="A HTML5 video player built using pure JavaScript" />
<meta name="twitter:title" content="Video player" />
<meta name="twitter:image" content="https://theabbie.github.io/files/share.jpg" />
<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="Pure JavaScript video player">
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Player" />
<meta property="og:description" content="Pure JavaScript vide player" />
<meta property="og:url" content="https://theabbie.github.io/player" />
<meta property="og:site_name" content="application" />
<meta property="article:section" content="Review" />
<meta property="article:published_time" content="2020-04-22T08:34:48+00:00" />
<meta property="article:modified_time" content="2020-04-22T08:34:51+00:00" />
<meta property="og:updated_time" content="2020-04-22T08:34:51+00:00" />
<meta property="og:image" content="https://theabbie.github.io/files/share.jpg" />
<meta property="og:image:secure_url" content="https://theabbie.github.io/files/share.jpg" />
<meta property="og:image:width" content="600" />
<meta property="og:image:height" content="445" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="Pure JavaScript video player" />
<meta name="twitter:title" content="Player" />
<meta name="twitter:image" content="https://theabbie.github.io/files/share.jpg" />

<style>
@media (max-aspect-ratio: 1/1) {
  video {
  position: absolute;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 4;
  visibility: visible;
  transition: all 0.5s;
  }
}
body {
  margin: 0 0 0 0;
  overscroll-behavior-y: contain;
}
video::-internal-media-controls-overlay-cast-button {
  display: none;
}
video {
  position: absolute;
  transform: rotate(90deg);
  transform-origin: bottom left;
  width: 100vh;
  height: 100vw;
  margin-top: -100vw;
  object-fit: cover;
  z-index: 4;
  visibility: visible;
  transition: all 0.5s;
}
</style>
<body>
<video>
</video>   
</body>
<script>
var iw;
var wid = window.innerWidth;
var hit = window.innerHeight;
var player = document.getElementsByTagName("video")[0];  
player.ondblclick = function() {
var fp = document.createElement("input");
fp.setAttribute("type","file");
fp.addEventListener("change",function(e) {
var URL = window.URL || window.webkitURL;
var link = URL.createObjectURL(fp.files[0]);
player.src = link;
})
fp.click();
}
player.src = location.search.split("?video=")[1] || prompt("Video?"); 
player.onclick = function(e) {if (player.paused) {player.play()} else {player.pause()}}
player.onpause = function() {player.style.WebkitFilter="blur(15px)"}
player.onplay = function() {player.style.WebkitFilter="blur(0px)"}
player.addEventListener('contextmenu', function(e) {
e.preventDefault(); 
if (!document.pictureInPictureElement) {
      player.requestPictureInPicture()
      .catch(error => {
        console.log("failed")
    });
    } else {
      document.exitPictureInPicture()
      .catch(error => {
        console.log("failed again")
      });
    }
  });

window.ontouchstart = function(e) {
iw = e.touches[0].clientY;
}

window.ontouchend = function(e) {
if (e.touches[0].clientY-iw > 0) {player.currentTime+=10}
else {player.currentTime-=10}
}
</script>
</html>
