<html>
<title>
Live Streaming
</title>
<meta name="description" content="Live streaming using pure JavaScript and Firebase real-time database">
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Live streaming" />
<meta property="og:description" content="Live streaming using pure JavaScript and Firebase real-time database" />
<meta property="og:url" content="https://theabbie.github.io/files/live" />
<meta property="og:site_name" content="TheAbbie" />
<meta property="article:section" content="application" />
<meta property="article:published_time" content="2020-04-22T08:34:48+00:00" />
<meta property="article:modified_time" content="2020-04-22T08:34:51+00:00" />
<meta property="og:updated_time" content="2020-04-22T08:34:51+00:00" />
<meta property="og:image" content="https://theabbie.github.io/files/share.jpg" />
<meta property="og:image:secure_url" content="https://theabbie.github.io/files/share.jpg" />
<meta property="og:image:width" content="600" />
<meta property="og:image:height" content="445" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="Live streaming using pure JavaScript and Firebase real-time database" />
<meta name="twitter:title" content="Live streaming" />
<meta name="twitter:image" content="https://theabbie.github.io/files/share.jpg" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<video autoplay="true" style="width: 100%; height: 100%; object-fit: cover; position: absolute; margin: auto;">
</video>
<canvas style="width: 0px; height: 0px; display: none;"></canvas>
<script>
var wid = window.innerWidth;
var hit = window.innerHeight;
document.body.style.margin="0 0 0 0";
var video = document.getElementsByTagName("video")[0];
var canvas = document.getElementsByTagName("canvas")[0];
navigator.mediaDevices.getUserMedia({video: true}).then(function(stream) {video.srcObject = stream;});
function stream() {
canvas.getContext('2d').drawImage(video, 0, 0, wid, hit);
fetch('https://codrcrew.firebaseio.com/main/live.json', {
method: 'PUT',
body: JSON.stringify(canvas.toDataURL())
}).then(function() {stream()});
};
stream();
</script>
</html> 
