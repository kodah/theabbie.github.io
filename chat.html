<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<style>
@font-face {
	font-family: kirvy;
	src: url('https://confession.ml/kirvy.otf');
}
* {font-family: kirvy; letter-spacing: 6px; word-break: break-all;}
body {text-align: center; margin: 0 0 0 0; background-color: rgb(15,20,24);}
img {height: 50px; width: 50px; margin: 0 10 0 10}
.swal-modal {
  background-color: rgb(35,40,44);
}
.swal-text {
  color: white;
  font-weight: bolder;
}
.chatbox {width: 100%;}
.their {padding: 10 15 10 15; background-color: rgb(237,142,72); font-weight: bolder; color: black;}
.mine {padding: 10 15 10 15; background-color: rgb(71,160,138); font-weight: bolder; color: white;}
.gap {width: 33.33%;}
textarea {position: fixed; padding: 10 10 10 10; height: 40px; width: 50%; border-radius: 40px; left:10; bottom: 10; resize: none; overflow:hidden;}
.file {position: fixed; padding: 10 10 10 10; height: 40px; width: 40px; background-color: aqua; bottom: 10; right: 10; border-radius: 50%;}
</style>
<body>
<table class="chatbox" cellspacing="10">
</table>
<textarea></textarea>
<div class="file"></div>
</body>
<script>
Notification.requestPermission();
var p = document.createElement("div");
p.innerHTML="<img src='http://www.stickpng.com/assets/images/5847f9cbcef1014c0b5e48c8.png'><img src='http://www.stickpng.com/assets/images/584ac2d03ac3a570f94a666d.png'><img src='http://assets.stickpng.com/thumbs/580b57fbd9996e24bc43bf3d.png'>";
p.style.color="white";
p.style.fontSize="30px";
swal({buttons: false,content: p,closeOnClickOutside: false});
function check() {
[].forEach.call(document.querySelectorAll(".their"), function (el) {el.style.borderRadius=el.clientHeight+"px";});
[].forEach.call(document.querySelectorAll(".mine"), function (el) {el.style.borderRadius=el.clientHeight+"px";});
document.querySelector("textarea").style.height="40px";
}
function chatwith(x) {
swal.close();
document.querySelector("textarea").onblur = function() {firebase.database().ref(status).set("<td class='gap'></td><td class='mine' colspan='2'>"+this.value+"</td></tr><tr><td class='gap'></td><td class='gap'></td><td class='gap'></td></tr>"+document.querySelector(".chatbox").innerHTML);
check();}
document.querySelector("textarea").oninput = function() {this.style.height=this.scrollHeight}
document.querySelector(".file").onclick = function() {
var x = document.createElement("INPUT");
x.setAttribute("type", "file");
x.click();
x.onchange = function(e) {
fetch('https://thedb.now.sh/file', {
  method: 'POST',
  body: e.target.files[0]
})
}
</script>
</html>
